<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Prof. Gladimir Ceroni Catarino</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <style>
    body {
      font-family: monospace;
      background-color: #000;
      color: #33ff33;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #000;
      color: #33ff33;
      padding: 20px;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    header img.logo {
      width: 160px;
      margin-right: 15px;
    }
    h1 { font-size: 24px; }
    .terminal {
      padding: 20px;
      white-space: pre-wrap;
      max-width: 1000px;
      margin: auto;
    }
    .folder { color: #ff66ff; }
    .file { color: #3399ff; }
    .breadcrumb {
      color: #33ff33;
      margin-bottom: 15px;
    }
    .filter {
      text-align: center;
      margin-bottom: 20px;
    }
    .filter select {
      font-family: monospace;
      padding: 5px;
    }
    a { color: inherit; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <img src="identidade_visual/unisenac_campus_pelotas2.jpg" alt="Logo Uni SENAC" class="logo">
    <h1>Prof. Gladimir Ceroni Catarino</h1>
  </header>

  <div class="terminal">
    <div class="breadcrumb" id="breadcrumb">~/</div>

    <div class="filter">
      <label for="fileType">Filtrar por tipo: </label>
      <select id="fileType" onchange="renderList()">
        <option value="all">Todos</option>
        <option value="folder">Pastas</option>
        <option value="file">Arquivos</option>
      </select>
    </div>

    <div id="fileList"></div>
  </div>

  <script>
    let allFiles = [];

    function iconFor(path) {
      const ext = path.split('.').pop().toLowerCase();
      if (path.endsWith('/')) return 'ðŸ“';
      if (['jpg', 'png', 'gif', 'bmp', 'jpeg', 'svg'].includes(ext)) return 'ðŸ–¼ï¸';
      if (['mp3', 'wav', 'ogg'].includes(ext)) return 'ðŸŽµ';
      if (['mp4', 'webm', 'avi'].includes(ext)) return 'ðŸŽ¬';
      if (['pdf'].includes(ext)) return 'ðŸ“„';
      if (['zip', 'rar', '7z'].includes(ext)) return 'ðŸ—œï¸';
      if (['txt', 'md'].includes(ext)) return 'ðŸ“ƒ';
      return 'ðŸ“„';
    }

    function renderList() {
      const list = document.getElementById('fileList');
      const filter = document.getElementById('fileType').value;
      const path = location.hash ? decodeURIComponent(location.hash.substring(1)) : '';
      const prefix = path ? path + '/' : '';
      const breadcrumb = document.getElementById('breadcrumb');
      breadcrumb.textContent = `~/${path}`;

      const items = allFiles.filter(e => e.path.startsWith(prefix) && !e.path.slice(prefix.length).includes('/'));
      list.innerHTML = '';

      items.forEach(e => {
        if (filter !== 'all' && e.type !== filter) return;
        const icon = iconFor(e.path);
        const line = document.createElement('div');
        if (e.type === 'folder') {
          const target = encodeURIComponent(e.path);
          line.innerHTML = `<span class="folder">${icon} <a href="#${target}">${e.name}</a></span>`;
        } else {
          line.innerHTML = `<span class="file">${icon} <a href="${e.path}" target="_blank">${e.name}</a></span>`;
        }
        list.appendChild(line);
      });
    }

    window.addEventListener('hashchange', renderList);

    fetch('files.json')
      .then(resp => resp.json())
      .then(data => {
        allFiles = data;
        renderList();
      });
  </script>
</body>
</html>
